# 实体字段说明及关联关系

## 用户 (User)
| 字段名 | 类型 | 中文含义 | 备注 |
|--------|------|----------|------|
| id | number | 主键ID | 自增主键 |
| username | string | 用户名 | 唯一，最大50字符 |
| password | string | 密码 | 最大255字符 |
| realName | string | 真实姓名 | 最大100字符 |
| role | enum | 角色 | 可选值：admin（管理员）、staff（工作人员）、volunteer（志愿者），默认staff |
| avatar | string | 头像 | 可选，头像URL，最大255字符 |
| phone | string | 电话 | 可选，最大20字符 |
| email | string | 邮箱 | 可选，最大100字符 |
| createTime | Date | 创建时间 | 自动生成 |
| status | enum | 状态 | 可选值：active（活跃）、inactive（不活跃）、locked（锁定），默认active |

## 宠物 (Pet)
| 字段名 | 类型 | 中文含义 | 备注 |
|--------|------|----------|------|
| id | number | 主键ID | 自增主键 |
| name | string | 宠物名字 | 最大100字符 |
| type | enum | 宠物类型 | 可选值：dog（狗）、cat（猫）、rabbit（兔子）、bird（鸟）、hamster（仓鼠）、other（其他） |
| breed | string | 品种 | 最大50字符 |
| age | number | 年龄 | 精度3位，小数点后1位 |
| gender | enum | 性别 | 可选值：male（公）、female（母） |
| weight | number | 体重 | 可选，精度5位，小数点后2位，单位kg |
| color | string | 颜色 | 可选，最大50字符 |
| healthStatus | enum | 健康状态 | 可选值：healthy（健康）、treating（治疗中）、recovered（康复）、critical（危重），默认healthy |
| adoptionStatus | enum | 领养状态 | 可选值：available（可领养）、pending（待审核）、adopted（已领养）、unavailable（不可领养），默认available |
| description | text | 描述 | 可选 |
| images | json | 图片 | 可选，图片URL数组 |
| location | string | 位置 | 可选，最大255字符 |
| rescueDate | Date | 救援日期 | 可选 |
| rescuer | string | 救援者 | 可选，最大50字符 |
| tags | json | 标签 | 可选，标签数组 |
| viewCount | number | 查看次数 | 默认0 |
| favoriteCount | number | 收藏次数 | 默认0 |
| adoptedBy | string | 被领养者 | 可选，领养人姓名，最大100字符 |
| adoptedDate | Date | 领养日期 | 可选 |
| createTime | Date | 创建时间 | 自动生成 |
| updateTime | Date | 更新时间 | 自动生成 |

## 领养申请 (Adoption)
| 字段名 | 类型 | 中文含义 | 备注 |
|--------|------|----------|------|
| id | number | 主键ID | 自增主键 |
| petId | number | 宠物ID | 关联到Pet.id |
| petName | string | 宠物名字 | 最大100字符 |
| applicantName | string | 申请人姓名 | 最大100字符 |
| applicantPhone | string | 申请人电话 | 最大20字符 |
| applicantEmail | string | 申请人邮箱 | 最大100字符 |
| applicantIdCard | string | 申请人身份证 | 最大20字符 |
| applicantAddress | text | 申请人地址 |  |
| applicationDate | Date | 申请日期 | 自动生成 |
| status | enum | 申请状态 | 可选值：pending（待审核）、approved（批准）、rejected（拒绝）、cancelled（取消），默认pending |
| approvalDate | Date | 批准日期 | 可选 |
| approver | string | 批准人 | 可选，最大50字符 |
| rejectionDate | Date | 拒绝日期 | 可选 |
| rejecter | string | 拒绝人 | 可选，最大50字符 |
| rejectReason | text | 拒绝原因 | 可选 |
| remarks | text | 备注 | 可选 |
| experience | string | 养宠经验 | 可选，最大100字符 |
| housingType | string | 住房类型 | 可选，最大50字符 |
| hasYard | boolean | 是否有院子 | 默认false |
| familyMembers | number | 家庭成员数 | 可选 |
| workHours | string | 工作时间 | 可选，最大50字符 |
| reviewNotes | json | 审核笔记 | 可选，数组格式：{date, content, operator} |
| createTime | Date | 创建时间 | 自动生成 |
| updateTime | Date | 更新时间 | 自动生成 |

## 救援记录 (Rescue)
| 字段名 | 类型 | 中文含义 | 备注 |
|--------|------|----------|------|
| id | number | 主键ID | 自增主键 |
| petId | number | 宠物ID | 关联到Pet.id |
| petName | string | 宠物名字 | 最大100字符 |
| rescueDate | Date | 救援日期 |  |
| rescueLocation | string | 救援地点 | 最大255字符 |
| rescuer | string | 救援者 | 最大50字符 |
| rescueType | string | 救援类型 | 最大50字符 |
| description | text | 救援描述 |  |
| healthCondition | string | 健康状况 | 最大50字符 |
| immediateAction | string | 立即行动 | 最大255字符 |
| images | json | 图片 | 可选，图片URL数组 |
| videoUrl | string | 视频URL | 可选，最大255字符 |
| cost | number | 救援成本 | 可选，精度10位，小数点后2位 |
| notes | text | 笔记 | 可选 |
| createTime | Date | 创建时间 | 自动生成 |
| updateTime | Date | 更新时间 | 自动生成 |

## 志愿者 (Volunteer)
| 字段名 | 类型 | 中文含义 | 备注 |
|--------|------|----------|------|
| id | number | 主键ID | 自增主键 |
| name | string | 姓名 | 最大100字符 |
| phone | string | 电话 | 最大20字符 |
| email | string | 邮箱 | 最大100字符 |
| age | number | 年龄 | 可选 |
| occupation | string | 职业 | 可选，最大100字符 |
| experience | string | 志愿经验 | 可选，最大255字符 |
| availableTime | string | 可用时间 | 可选，最大100字符 |
| status | enum | 状态 | 可选值：active（活跃）、inactive（不活跃），默认active |
| joinDate | Date | 加入日期 |  |
| activitiesParticipated | number | 参与活动数 | 默认0 |
| totalHours | number | 总志愿小时数 | 默认0 |
| skills | json | 技能 | 可选，技能数组 |
| avatar | string | 头像 | 可选，头像URL，最大255字符 |
| address | string | 地址 | 可选，最大255字符 |
| createTime | Date | 创建时间 | 自动生成 |
| updateTime | Date | 更新时间 | 自动生成 |

## 活动 (Activity)
| 字段名 | 类型 | 中文含义 | 备注 |
|--------|------|----------|------|
| id | number | 主键ID | 自增主键 |
| title | string | 活动标题 | 最大200字符 |
| type | enum | 活动类型 | 可选值：adoption（领养）、volunteer（志愿）、training（培训）、fundraising（募捐）、education（教育） |
| startDate | Date | 开始日期 |  |
| endDate | Date | 结束日期 |  |
| location | string | 活动地点 | 最大255字符 |
| description | text | 活动描述 |  |
| participantLimit | number | 参与者限制 | 可选 |
| participantCount | number | 参与者数量 | 默认0 |
| status | enum | 活动状态 | 可选值：upcoming（即将开始）、ongoing（进行中）、completed（已完成）、cancelled（已取消），默认upcoming |
| organizer | string | 组织者 | 最大50字符 |
| requirements | text | 参与要求 | 可选 |
| images | json | 图片 | 可选，图片URL数组 |
| tags | json | 标签 | 可选，标签数组 |
| createTime | Date | 创建时间 | 自动生成 |
| updateTime | Date | 更新时间 | 自动生成 |

## 捐赠 (Donation)
| 字段名 | 类型 | 中文含义 | 备注 |
|--------|------|----------|------|
| id | number | 主键ID | 自增主键 |
| donorName | string | 捐赠者姓名 | 最大100字符 |
| donorType | enum | 捐赠者类型 | 可选值：individual（个人）、organization（组织），默认individual |
| amount | number | 捐赠金额 | 精度10位，小数点后2位，默认0 |
| donationDate | Date | 捐赠日期 | 自动生成 |
| donationType | enum | 捐赠类型 | 可选值：money（现金）、goods（物品），默认money |
| purpose | string | 捐赠用途 | 可选，最大100字符 |
| status | enum | 捐赠状态 | 可选值：pending（待确认）、confirmed（已确认）、cancelled（已取消），默认pending |
| paymentMethod | string | 支付方式 | 可选，最大50字符 |
| transactionId | string | 交易ID | 可选，最大100字符 |
| remarks | text | 备注 | 可选 |
| receiptIssued | boolean | 是否开具收据 | 默认false |
| items | json | 捐赠物品 | 可选，数组格式：{name, quantity, unit, estimatedValue} |
| totalValue | number | 总价值 | 可选，精度10位，小数点后2位 |
| createTime | Date | 创建时间 | 自动生成 |
| updateTime | Date | 更新时间 | 自动生成 |

## 通知 (Notification)
| 字段名 | 类型 | 中文含义 | 备注 |
|--------|------|----------|------|
| id | number | 主键ID | 自增主键 |
| type | enum | 通知类型 | 可选值：adoption（领养）、rescue（救援）、donation（捐赠）、activity（活动）、system（系统） |
| title | string | 通知标题 | 最大200字符 |
| content | text | 通知内容 |  |
| targetId | number | 目标ID | 可选，关联到其他表的记录ID |
| targetType | string | 目标类型 | 可选，指示targetId指向的表类型 |
| isRead | boolean | 是否已读 | 默认false |
| createTime | Date | 创建时间 | 自动生成 |
| updateTime | Date | 更新时间 | 自动生成 |

## 表之间的关联关系

### 直接关联关系（外键）
1. **Adoption (领养申请) → Pet (宠物)**
   - Adoption.petId → Pet.id
   - 一个宠物可以有多个领养申请

2. **Rescue (救援记录) → Pet (宠物)**
   - Rescue.petId → Pet.id
   - 一个宠物可以有多个救援记录

3. **Notification (通知) → 其他表**
   - Notification.targetId 和 targetType 指向其他表的记录
   - 可以关联到 Adoption、Rescue、Donation、Activity 等表的记录

### 间接关联关系（通过字段值）
1. **Pet (宠物) → User (用户) 或 Volunteer (志愿者)**
   - Pet.rescuer → Volunteer.name 或 User.username
   - Pet.adoptedBy → Adoption.applicantName 或 User.username

2. **Adoption (领养申请) → User (用户)**
   - Adoption.approver → User.username
   - Adoption.rejecter → User.username

3. **Rescue (救援记录) → Volunteer (志愿者) 或 User (用户)**
   - Rescue.rescuer → Volunteer.name 或 User.username

4. **Activity (活动) → User (用户) 或 Volunteer (志愿者)**
   - Activity.organizer → User.username 或 Volunteer.name

5. **Activity (活动) → Volunteer (志愿者)**
   - 通过 Activity.participantCount 和 Volunteer.activitiesParticipated 间接关联
   - 志愿者可以参与多个活动

### 系统架构说明
- **User** 表存储系统用户（管理员、工作人员、志愿者）
- **Pet** 表是核心，存储所有宠物的信息
- **Adoption** 和 **Rescue** 直接关联到 **Pet**
- **Volunteer** 表存储志愿者信息，可能与救援和活动相关
- **Activity** 表存储各种活动信息
- **Donation** 表存储捐赠记录，与其他表无直接关联
- **Notification** 表作为通知系统，targetId 和 targetType 用于关联到具体业务记录